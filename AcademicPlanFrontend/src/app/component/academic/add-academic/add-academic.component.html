<div class="modal-header">
  <h4 class="modal-title pull-left">Добавить нового академика</h4>
  <button type="button" class="close pull-right"
          aria-label="Close" (click)="closeModal()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <div class="form-group row justify-content-center">
    <div class="col-lg-10">
      <ng-autocomplete [data]="academicDegrees" [searchKeyword]="'name'" [itemTemplate]="itemTemplate"
                       (selected)="setAcademicDegree($event)" (inputCleared)="removeAcademicDegree()"
                       (inputChanged)="removeAcademicDegree()"
                       placeHolder="Учёная степень"></ng-autocomplete>
    </div>
    <button class="btn"
            (click)="addAcademicDegree.hidden ? addAcademicDegree.hidden = false : addAcademicDegree.hidden = true;
addAcademicDegree.hidden ? academicDegreeButton.src = '/assets/svg/chevron-top.svg' : academicDegreeButton.src = '/assets/svg/chevron-bottom.svg'">
      <img #academicDegreeButton src="/assets/svg/chevron-bottom.svg" alt="" width="16" height="16">
    </button>
  </div>
  <div class="form-group row justify-content-center" #addAcademicDegree [hidden]="true">
    <div class="col-lg-8">
      <label for="add1" class="">Учёная степень</label>
      <input type="text" class="form-control" [(ngModel)]="academicDegreesName"
             id="add1" placeholder="Название"/>
    </div>
    <button class="btn" (click)="saveAcademicDegree($event)" [disabled]="academicDegreesName == ''">
      <img src="/assets/svg/plus.svg" alt="" width="16" height="16">
    </button>
  </div>

  <div class="form-group row justify-content-center">
    <div class="col-lg-10">
      <ng-autocomplete [data]="academicRanks" [searchKeyword]="'name'" [itemTemplate]="itemTemplate"
                       (selected)="setAcademicRank($event)" (inputCleared)="removeAcademicRank()"
                       (inputChanged)="removeAcademicRank()"
                       placeHolder="Учёное звание"></ng-autocomplete>
    </div>
    <button class="btn"
            (click)="addAcademicRank.hidden ? addAcademicRank.hidden = false : addAcademicRank.hidden = true;
addAcademicRank.hidden ? academicRankButton.src = '/assets/svg/chevron-top.svg' : academicRankButton.src = '/assets/svg/chevron-bottom.svg'">
      <img #academicRankButton src="/assets/svg/chevron-bottom.svg" alt="" width="16" height="16">
    </button>
  </div>
  <div class="form-group row justify-content-center" #addAcademicRank [hidden]="true">
    <div class="col-lg-8">
      <label for="add2" class="">Учёное звание</label>
      <input type="text" class="form-control" [(ngModel)]="academicRanksName"
             id="add2" placeholder="Название"/>
    </div>
    <button class="btn" (click)="saveAcademicRank($event)" [disabled]="academicRanksName == ''">
      <img src="/assets/svg/plus.svg" alt="" width="16" height="16">
    </button>
  </div>


  <div class="form-group row justify-content-center">
    <div class="col-lg-10">
      <ng-autocomplete [data]="positions" [searchKeyword]="'name'" [itemTemplate]="itemTemplate"
                       (selected)="setPosition($event)" (inputCleared)="removePosition()"
                       (inputChanged)="removePosition()"
                       placeHolder="Должность"></ng-autocomplete>
    </div>
    <button class="btn"
            (click)="addPosition.hidden ? addPosition.hidden = false : addPosition.hidden = true;
positionButton.hidden ? positionButton.src = '/assets/svg/chevron-top.svg' : positionButton.src = '/assets/svg/chevron-bottom.svg'">
      <img #positionButton src="/assets/svg/chevron-bottom.svg" alt="" width="16" height="16">
    </button>
  </div>
  <div class="form-group row justify-content-center" #addPosition [hidden]="true">
    <div class="col-lg-8">
      <label for="add3" class="">Должность</label>
      <input type="text" class="form-control" [(ngModel)]="positionsName"
             id="add3" placeholder="Название"/>
    </div>
    <button class="btn" (click)="savePosition($event)" [disabled]="positionsName == ''">
      <img src="/assets/svg/plus.svg" alt="" width="16" height="16">
    </button>
  </div>

  <div class="form-group row justify-content-center">
    <div class="col-lg-10">
      <ng-autocomplete [data]="universities" [searchKeyword]="'name'" [itemTemplate]="itemTemplateWithAbbreviation"
                       (selected)="setFaculties($event)" (inputCleared)="clearFaculties()"
                       (inputChanged)="clearFaculties()"
                       placeHolder="Учебное заведение"></ng-autocomplete>
    </div>
   <div class="col-lg-10 mt-2">
      <ng-autocomplete [data]="faculties" [searchKeyword]="'name'" [itemTemplate]="itemTemplateWithAbbreviation"
                       (selected)="setDepartments($event)" (inputCleared)="clearDepartments()"
                       (inputChanged)="clearDepartments()"
                       [disabled]="faculties == null" [(ngModel)]="facultyText"
                       placeHolder="Факультет"></ng-autocomplete>
    </div>
  <div class="col-lg-10 mt-2">
      <ng-autocomplete [data]="departments" [searchKeyword]="'name'" [itemTemplate]="itemTemplateWithAbbreviation"
                       (selected)="setDepartment($event)" (inputCleared)="removeDepartment()"
                       (inputChanged)="removeDepartment()"
                       [disabled]="departments == null" [(ngModel)]="departmentText"
                       placeHolder="Кафедра"></ng-autocomplete>
    </div>

 </div>

  <div class="form-group row justify-content-center">
    <label for="form1" class="mt-1">Фамилия</label>
    <input type="text" id="form1" class="form-control mt-1 ml-1 mr-1 col-lg-12" name="lastName" [(ngModel)]="lastName"
           #lastNameInput="ngModel" required>
  </div>

  <div class="form-group row justify-content-center">
    <label for="form2" class="mt-1">Имя</label>
    <input type="text" id="form2" class="form-control mt-1 ml-1 mr-1 col-lg-12" name="firstName" [(ngModel)]="firstName"
           #firstNameInput="ngModel" required>
  </div>

  <div class="form-group row justify-content-center">
    <label for="form3" class="mt-1">Отчество</label>
    <input type="text" id="form3" class="form-control mt-1 ml-1 mr-1 col-lg-12" name="secondName" [(ngModel)]="secondName"
           #secondNameInput="ngModel" required>
  </div>

</div>
<div class="row justify-content-center">
  <button class="btn btn-primary mb-3" [disabled]="firstNameInput.invalid || secondNameInput.invalid
  || lastNameInput.invalid || academic.academicDegree == null || academic.academicRank == null
  || academic.position == null || academic.departmentId == null"
          onClick="disabled = true"
          (click)="addAcademic($event)">
    Добавить
  </button>
</div>


<ng-template #itemTemplate let-item>
  <a [innerHTML]="item.name"></a>
</ng-template>

<ng-template #itemTemplateWithAbbreviation let-item>
  <a [innerHTML]="item.name + ' (' + item.abbreviation + ')'"></a>
</ng-template>
